<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/atom-minimap/minimap" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/decoration.js~Decoration.html">Decoration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/main.js~Main.html">Main</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/minimap-element.js~MinimapElement.html">MinimapElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/minimap.js~Minimap.html">Minimap</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">decorators</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-element">element</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-include">include</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">mixins</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/mixins/canvas-drawer.js~CanvasDrawer.html">CanvasDrawer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/mixins/decoration-management.js~DecorationManagement.html">DecorationManagement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/mixins/dom-styles-reader.js~DOMStylesReader.html">DOMStylesReader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/mixins/plugin-management.js~PluginManagement.html">PluginManagement</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="minimap-package-build-status-https-travis-ci-org-atom-minimap-minimap-svg-branch-master-https-travis-ci-org-atom-minimap-minimap-">Minimap package <a href="https://travis-ci.org/atom-minimap/minimap"><img src="https://travis-ci.org/atom-minimap/minimap.svg?branch=master" alt="Build Status"></a></h1>
<p>A preview of the full source code.</p>
<p><img src="https://github.com/atom-minimap/minimap/blob/master/resources/screenshot.png?raw=true" alt="Minimap Screenshot">
&lt;small&gt;In the screenshot above the minimap-git-diff and minimap-highlight-selected plugins are activated.&lt;/small&gt;</p>
<h3 id="installation">Installation</h3>
<pre><code><code class="source-code prettyprint">apm install minimap</code>
</code></pre><h3 id="features">Features</h3>
<ul>
<li>Service-based Plugin API: Use the plugin generation command and start developing your plugin right away.</li>
<li>Decoration API: Use the same API to manage <code>TextEditor</code> and <code>Minimap</code> decorations.</li>
<li>Canvas-based Rendering: Simple, fast and flexible.</li>
<li>Stand-alone Mode: Wants to display a preview of a text editor in your UIs, use a stand-alone version of the Minimap.</li>
</ul>
<h3 id="available-plugins">Available Plugins</h3>
<p>Below is the list of available plugins so far:</p>
<table>
<thead>
<tr>
<th>Package</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://atom.io/packages/minimap-autohide">Auto-Hide</a></td>
<td>Hides the Minimap while editing.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/minimap-bookmarks">Bookmarks</a></td>
<td>Displays Atom bookmarks.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/minimap-codeglance">Code Glance</a></td>
<td>Shows the code that&apos;s under the mouse cursor when hovering the Minimap.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/minimap-find-and-replace">Find And Replace</a></td>
<td>Displays the search matches.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/minimap-git-diff">Git Diff</a></td>
<td>Displays the file diff.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/minimap-hide">Hide on inactive panes</a></td>
<td>Hide the Minimap when pane isn&apos;t focus.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/minimap-highlight-selected">Highlight Selected</a></td>
<td>A Minimap binding for the <a href="http://atom.io/packages/highlight-selected">highlight-selected</a> package.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/minimap-linter">Linter</a></td>
<td>Displays <a href="https://atom.io/packages/linter">linter</a> markers.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/minimap-pigments">Pigments</a></td>
<td>Displays the <a href="https://atom.io/packages/pigments">Pigments</a> colors.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/minimap-selection">Selection</a></td>
<td>Display the buffer&apos;s selections.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/minimap-split-diff">Split-Diff</a></td>
<td>A Minimap binding for the <a href="https://atom.io/packages/split-diff">split-diff</a> package.</td>
</tr>
<tr>
<td><a href="https://atom.io/packages/google-repo-diff-minimap">Google-Repo-Diff-Minimap</a></td>
<td>A Minimap binding for the <a href="https://atom.io/packages/google-repo-diff">google-repo-diff</a> package and <a href="https://atom.io/packages/google-repo">google-repo</a> package.</td>
</tr>
</tbody>
</table>
<h3 id="settings">Settings</h3>
<h4 id="auto-toggle">Auto Toggle</h4>
<p>If checked the Minimap is toggled on at startup. <code>(default=true)</code></p>
<h4 id="display-code-highlights">Display Code Highlights</h4>
<p>If checked the code will be highlighted using the grammar tokens. <code>(default=true)</code></p>
<table>
<thead>
<tr>
<th><code>true</code></th>
<th><code>false</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/with-code-highlights.png?raw=true" alt=""></td>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/without-code-highlights.png?raw=true" alt=""></td>
</tr>
</tbody>
</table>
<h4 id="display-minimap-on-left">Display Minimap On Left</h4>
<p>If checked the Minimap appears on the left side of editors, otherwise it appears on the right side. <code>(default=false)</code></p>
<table>
<thead>
<tr>
<th><code>true</code></th>
<th><code>false</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/minimap-on-left.png?raw=true" alt=""></td>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/minimap-on-right.png?raw=true" alt=""></td>
</tr>
</tbody>
</table>
<h4 id="char-height">Char Height</h4>
<p>The height of a character in the Minimap in pixels. <code>(default=2)</code></p>
<table>
<thead>
<tr>
<th><code>1px</code></th>
<th><code>2px</code></th>
<th><code>4px</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/1px-char-height.png?raw=true" alt=""></td>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/2px-char-height.png?raw=true" alt=""></td>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/4px-char-height.png?raw=true" alt=""></td>
</tr>
</tbody>
</table>
<h4 id="char-width">Char Width</h4>
<p>The width of a character in the Minimap in pixels. <code>(default=1)</code></p>
<table>
<thead>
<tr>
<th><code>1px</code></th>
<th><code>2px</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/1px-char-width.png?raw=true" alt=""></td>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/2px-char-width.png?raw=true" alt=""></td>
</tr>
</tbody>
</table>
<h4 id="interline">Interline</h4>
<p>The space between lines in the Minimap in pixels. <code>(default=1)</code></p>
<table>
<thead>
<tr>
<th><code>1px</code></th>
<th><code>2px</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/1px-interline.png?raw=true" alt=""></td>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/2px-interline.png?raw=true" alt=""></td>
</tr>
</tbody>
</table>
<h4 id="text-opacity">Text Opacity</h4>
<p>The opacity used to render the line text in the Minimap. <code>(default=0.6)</code></p>
<table>
<thead>
<tr>
<th><code>0.6</code></th>
<th><code>1</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/text-opacity-default.png?raw=true" alt=""></td>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/text-opacity-1.png?raw=true" alt=""></td>
</tr>
</tbody>
</table>
<h3 id="display-plugins-controls">Display Plugins Controls</h3>
<p>If checked, the Minimap plugins can be activated/deactivated from the Minimap settings view and a quick settings dropdown will be available on the top right corner of the Minimap. <code>(default=true)</code></p>
<p><strong>You need to restart Atom for this setting to be effective.</strong></p>
<p><img src="https://github.com/atom-minimap/minimap/blob/master/resources/plugins-control.png?raw=true" alt=""></p>
<h4 id="minimap-scroll-indicator">Minimap Scroll Indicator</h4>
<p>Toggles the display of a side line showing which part of the buffer is currently displayed by the Minimap. The side line appear only if the Minimap height is bigger than the editor view height. <code>(default=true)</code></p>
<p><img src="https://github.com/atom-minimap/minimap/blob/master/resources/scroll-indicator.png?raw=true" alt=""></p>
<h4 id="plugins-">Plugins *</h4>
<p>When plugins are installed, a setting is created for each to enable/disable them directly from the Minimap settings view.</p>
<h4 id="scroll-animation">Scroll Animation</h4>
<p>Enable animations when scrolling the editor by clicking on the Minimap. <code>(default=false)</code></p>
<h4 id="scroll-animation-duration">Scroll Animation Duration</h4>
<p>Duration of the scroll animation when clicking on the Minimap. <code>(default=300)</code></p>
<h4 id="use-hardware-acceleration">Use Hardware Acceleration</h4>
<p>If checked the Minimap scroll is done using a <code>translate3d</code> transform, otherwise the <code>translate</code> transform is used. <code>(default=true)</code></p>
<h4 id="absolute-mode">Absolute Mode</h4>
<p>When enabled the Minimap uses an absolute positioning, letting the editor&apos;s content flow below the Minimap. <code>(default=true)</code></p>
<p>Note that this setting will do nothing if <code>Display Minimap On Left</code> is also enabled.</p>
<table>
<thead>
<tr>
<th><code>false</code></th>
<th><code>true</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/normal-mode.png?raw=true" alt=""></td>
<td><img src="https://github.com/atom-minimap/minimap/blob/master/resources/absolute-mode.png?raw=true" alt=""></td>
</tr>
</tbody>
</table>
<h3 id="key-bindings">Key Bindings</h3>
<p>The Minimap package doesn&apos;t provide any default keybindings. But you can define your own as demonstrated below:</p>
<pre><code class="lang-cson"><code class="source-code prettyprint">&apos;atom-workspace&apos;:
  &apos;cmd-m&apos;: &apos;minimap:toggle&apos;
  &apos;ctrl-alt-cmd-j&apos;: &apos;minimap:generate-javascript-plugin&apos;
  &apos;ctrl-alt-cmd-b&apos;: &apos;minimap:generate-babel-plugin&apos;
  &apos;ctrl-alt-cmd-c&apos;: &apos;minimap:generate-coffee-plugin&apos;</code>
</code></pre>
<h3 id="tweaking-the-minimap">Tweaking The Minimap</h3>
<h4 id="hiding-scrollbars">Hiding scrollbars</h4>
<p>If you want to hide the default editor scrollbar, edit your <code>style.less</code> (Open Your Stylesheet) and use the following snippet:</p>
<pre><code class="lang-css"><code class="source-code prettyprint">atom-text-editor .vertical-scrollbar,
atom-text-editor::shadow .vertical-scrollbar {
  opacity: 0;
  width: 0;
}</code>
</code></pre>
<h4 id="changing-the-minimap-s-background">Changing the Minimap&apos;s background</h4>
<p><img src="https://github.com/atom-minimap/minimap/blob/master/resources/minimap-custom-background.png?raw=true" alt="minimap-custom-background"></p>
<pre><code class="lang-css"><code class="source-code prettyprint">atom-text-editor atom-text-editor-minimap,
atom-text-editor::shadow atom-text-editor-minimap {
  background: green;
}</code>
</code></pre>
<h4 id="changing-the-color-of-the-minimap-s-visible-area-">Changing the color of the Minimap&apos;s <code>visible-area</code></h4>
<p><img src="https://github.com/atom-minimap/minimap/blob/master/resources/minimap-custom-visible-area.png?raw=true" alt="minimap-custom-background"></p>
<pre><code class="lang-css"><code class="source-code prettyprint">atom-text-editor atom-text-editor-minimap::shadow .minimap-visible-area,
atom-text-editor::shadow atom-text-editor-minimap::shadow .minimap-visible-area {
  background-color: green;
  opacity: .5;
}</code>
</code></pre>
<h4 id="changing-the-color-of-the-minimap-s-scroll-indicator-">Changing the color of the Minimap&apos;s <code>scroll-indicator</code></h4>
<p><img src="https://github.com/atom-minimap/minimap/blob/master/resources/minimap-custom-scroll-indicator.png?raw=true" alt="minimap-custom-background"></p>
<pre><code class="lang-css"><code class="source-code prettyprint">atom-text-editor atom-text-editor-minimap::shadow .minimap-scroll-indicator,
atom-text-editor::shadow atom-text-editor-minimap::shadow .minimap-scroll-indicator {
  background-color: green;
}</code>
</code></pre>
<h4 id="disabling-mouse-interactions-when-in-absolute-mode">Disabling mouse interactions when in absolute mode</h4>
<p>If you want to prevent to catch the mouse pointer when the <code>absoluteMode</code> setting is enabled you can use the following snippet to do so:</p>
<pre><code class="lang-css"><code class="source-code prettyprint">atom-text-editor atom-text-editor-minimap,
atom-text-editor::shadow atom-text-editor-minimap {
  pointer-events: none;
}

atom-text-editor atom-text-editor-minimap::shadow .minimap-visible-area,
atom-text-editor::shadow atom-text-editor-minimap::shadow .minimap-visible-area {
  pointer-events: auto;
}</code>
</code></pre>
<p>The visible area will still allow interaction but the Minimap track won&apos;t.</p>
<h3 id="ascii-art-comments">ASCII Art Comments</h3>
<p>One neat trick is to use ASCII art to create huge comments visible in the minimap. This is really efficient when navigating huge files.</p>
<p><img src="https://github.com/atom-minimap/minimap/blob/master/resources/ascii-comments.png?raw=true" alt="ASCII Art Comments"></p>
<p>To generate these comments you can use on these useful Atom packages:</p>
<ul>
<li><a href="https://atom.io/packages/figlet">Figlet</a></li>
<li><a href="https://atom.io/packages/figletify">Figletify</a></li>
<li><a href="https://atom.io/packages/minimap-titles">Minimap Titles</a></li>
<li><a href="https://atom.io/packages/draw-package">Draw Package</a></li>
</ul>
<hr>
<h2 id="developers-documentation">Developers Documentation</h2>
<p>You can find below the developers documentation on how to create Minimap&apos;s plugins and how to use decorations and stand-alone Minimaps.</p>
<p>For a more detailled documentation of the API make sure to check the <a href="http://atom-minimap.github.io/minimap/">Minimap API Documentation</a>.</p>
<h3 id="plugins">Plugins</h3>
<p>The Minimap comes with a plugin system used to extend the features displayed in it. Minimap plugins, once activated, are known and can be managed through the Minimap settings.</p>
<h4 id="plugin-generation-command">Plugin Generation Command</h4>
<p>Use the <code>Generate Javascript Plugin</code>, <code>Generate Coffee Plugin</code> or <code>Generate Babel Plugin</code> commands, available in the command palette, to generate a new Minimap plugin package.</p>
<ul>
<li><code>Minimap: Generate Javascript Plugin</code>: Will generate a vanilla JavaScript package.</li>
<li><code>Minimap: Generate Coffee Plugin</code>: Will generate a CoffeeScript package.</li>
<li><code>Minimap: Generate Babel Plugin</code>: Will generate a ES6 package that uses babel-js.</li>
</ul>
<h4 id="plugins-controls">Plugins Controls</h4>
<p>When the <code>displayPluginsControls</code> setting is toggled on, plugins activation can be managed directly from the Minimap package settings or by using the quick settings dropdown available on the Mimimap itself:</p>
<p><img src="https://github.com/atom-minimap/minimap/blob/master/resources/plugins-list.gif?raw=true" alt="Minimap Screenshot"></p>
<h3 id="stand-alone-mode">Stand-alone Mode</h3>
<p>Starting with version 4.13, the Minimap can operate in a stand-alone mode. Basically, it means that a Minimap can be appended to the DOM outside of a <code>TextEditor</code> and without being affected by it.</p>
<p>The example below demonstrates how to retrieve and display a stand-alone Minimap:</p>
<pre><code class="lang-coffee"><code class="source-code prettyprint">atom.packages.serviceHub.consume &apos;minimap&apos;, &apos;1.0.0&apos;, (api) -&gt;
  editor = atom.workspace.getActiveTextEditor()
  minimap = api.standAloneMinimapForEditor(editor)

  minimapElement = atom.views.getView(minimap)
  minimapElement.attach(document.body)
  minimapElement.style.cssText = &apos;&apos;&apos;
    width: 300px;
    height: 300px;
    position: fixed;
    top: 0;
    right: 100px;
    z-index: 10;
  &apos;&apos;&apos;</code>
</code></pre>
<p>In a nutshell, here&apos;s the main changes to expect when using a stand-alone Minimap:</p>
<ul>
<li>In stand-alone mode, it&apos;s the <code>MinimapElement</code> that is responsible to sets the size of the underlying <code>Minimap</code> model, so you can give it any size and the Minimap will just adapt to it.</li>
<li>Scrolling in the target <code>TextEditor</code> won&apos;t change the Minimap display.</li>
<li>The mouse controls in the Minimap are removed.</li>
<li>The visible area and the quick settings button are removed.</li>
<li>Stand-alone Minimaps aren&apos;t dispatched in the <code>observeMinimaps</code> callback, so they won&apos;t be targeted by plugins and won&apos;t receive the decorations that plugins normally creates on Minimaps.</li>
</ul>
<p>For the moment, stand-alone Minimaps still need a target <code>TextEditor</code> but I hope to make it work with just a path at some point.</p>
<h3 id="minimap-decorations">Minimap Decorations</h3>
<p>The Minimap package mimic the decoration API available on editors so that you can easily add your own decorations on the Minimap.</p>
<p>While the interface is the same, some details such as the available decorations types change relatively to the editor&apos;s decorations API.</p>
<h4 id="scope-and-styling">Scope And Styling</h4>
<p>The most important change is that decorations on the Minimap doesn&apos;t use a <code>class</code>, but rather a <code>scope</code></p>
<pre><code class="lang-coffee"><code class="source-code prettyprint">minimapView.decorateMarker(marker, type: &apos;line&apos;, scope: &apos;.scope .to .the.marker.style&apos;)</code>
</code></pre>
<p>It&apos;s still possible to pass a class parameter to the decoration:</p>
<pre><code class="lang-coffee"><code class="source-code prettyprint">minimapView.decorateMarker(marker, type: &apos;line&apos;, class: &apos;the marker style&apos;)</code>
</code></pre>
<p>In that case, when rendering the decoration a scope will be build that will look like <code>.minimap .editor .the.marker.style</code>.</p>
<p>The reason of using a scope rather than a class is that while editor&apos;s decorations are part of the DOM and benefit of the styles cascading, Minimap&apos;s decorations, rendered in a canvas, do not. In order to work around that, decoration&apos;s styles are defined using a <code>scope</code> property containing the selector allowing to retrieve the decoration style.</p>
<p>This allow the Minimap decorations to still be styled using css. For instance, the scope used by the <code>minimap-selection</code> package is:</p>
<pre><code class="lang-css"><code class="source-code prettyprint">.minimap .editor .selection .region {
  /* ... */
}</code>
</code></pre>
<p>Note that the scope is prefixed with <code>.minimap</code> so that you can override the selection style in the Minimap without impacting the editor&apos;s one.</p>
<p>Also note that only the <code>background</code> property will be retrieved to style a decoration.</p>
<p>A last option is to pass a css color directly in a <code>color</code> option, such as:</p>
<pre><code class="lang-coffee"><code class="source-code prettyprint">minimapView.decorateMarker(marker, type: &apos;line&apos;, color: &apos;#ff0000&apos;)</code>
</code></pre>
<p>In that case neither the scope nor the class will be used.</p>
<h4 id="decorations-types">Decorations Types</h4>
<p>Another non-trivial change is the list of available decoration&apos;s type. At the time, the available types on the Minimap are:</p>
<ul>
<li><code>line</code>: Same as the editor one, it colors the line background with a color extracted from the decoration scope.</li>
<li><code>highlight-under</code>: Correspond to an editor <code>highlight</code> decoration that is rendered before rendering the line content.</li>
<li><code>highlight-over</code>, <code>highlight</code>: Correspond to an editor <code>highlight</code> decoration that is rendered after having rendered the line content.</li>
<li><code>highlight-outline</code>: Correspond to an editor <code>highlight</code> decoration that is rendered only as an outline in the Minimap.</li>
</ul>
<h3 id="license">License</h3>
<p>MIT</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.3)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
